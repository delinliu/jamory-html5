var Main=function(){function a(){return Math.random()>.5?-1:1}function b(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function c(a,c){b(a,c)||(a.className+=" "+c)}function d(a,c){if(b(a,c)){var d=new RegExp("(\\s|^)"+c+"(\\s|$)");a.className=a.className.replace(d,"")}}function e(a){for(var b=0;b<a.length;b++){var c=document.createElement("img");c.src=a[b]}}function f(){function a(b){b>4||(d(m("btn"+b),"btn-hide"),setTimeout(function(){a(b+1)},100))}a(1)}function g(){function a(b){return b>4?void j():(c(m("btn"+b),"btn-hide"),void setTimeout(function(){a(b+1)},100))}a(1),h()}function h(){s("audio/right.mp3"),q.add()}function i(){c(p,"err"),s("audio/err.mp3"),setTimeout(function(){d(p,"err")},100),q.clear()}function j(){for(var b=parseInt(Math.random()*o),c=parseInt(3*Math.random()),d=0;d==c;)d=parseInt(3*Math.random());for(var e=0;e==c||e==d;)e=parseInt(3*Math.random());var g={};g[b]=!0;for(var h=parseInt(Math.random()*o);g[h];)h=parseInt(Math.random()*o);g[h]=!0;for(var i=parseInt(Math.random()*o);g[i];)i=parseInt(Math.random()*o);g[i]=!0;for(var j=parseInt(Math.random()*o);g[j];)j=parseInt(Math.random()*o);g[j]=!0;var k=[n[b][d],n[h][d],n[i][d],n[j][d]];k=k.sort(a);for(var l=0,q=k.length;q>l;l++)m("btn"+(l+1)).innerHTML=k[l];p.innerHTML=n[b][c],p.setAttribute("data-answer",n[b][d]),p.setAttribute("data-val1",n[b][c]),p.setAttribute("data-val2",n[b][e]),f()}function k(){for(var a=document.getElementsByClassName("btn"),b=0,c=a.length;c>b;b++)a[b].onclick=function(){console.log(this);var a=this.innerHTML;a==p.getAttribute("data-answer")?g():i()};p.onclick=function(){var a=p.getAttribute("data-val1"),b=p.getAttribute("data-val2"),c=p.innerHTML;p.innerHTML=c==a?b:a}}function l(){j(),k(),e(["audio/err.mp3","audio/right.mp3"]),q.init()}var m=function(a){return document.getElementsByClassName(a)[0]},n=[["あ","ア","a"],["い","イ","i"],["う","ウ","u"],["え","エ","e"],["お","オ","o"],["か","カ","ka"],["き","キ","ki"],["く","ク","ku"],["け","ケ","ke"],["こ","コ","ko"],["さ","サ","sa"],["し","シ","shi"],["す","ス","su"],["せ","セ","se"],["そ","ソ","so"],["た","タ","ta"],["ち","チ","chi"],["つ","ツ","tsu"],["て","テ","te"],["と","ト","to"],["な","ナ","na"],["に","ニ","ni"],["ぬ","ヌ","nu"],["ね","ネ","ne"],["の","ノ","no"],["は","ハ","ha"],["ひ","ヒ","hi"],["ふ","フ","fu"],["へ","ヘ","he"],["ほ","ホ","ho"],["ま","マ","ma"],["み","ミ","mi"],["む","ム","mu"],["め","メ","me"],["も","モ","mo"],["や","ヤ","ya"],["い","イ","i"],["ゆ","ユ","yu"],["え","エ","e"],["よ","ヨ","yo"],["ら","ラ","ra"],["り","リ","ri"],["る","ル","ru"],["れ","レ","re"],["ろ","ロ","ro"],["わ","ワ","wa"],["い","イ","i"],["う","ウ","u"],["え","エ","e"],["を","ヲ","wo"],["ん","ン","n"]],o=n.length,p=document.getElementsByClassName("round")[0],q={key:"score",add:function(){var a=window.localStorage.getItem(this.key),b=parseInt(a)+1;m("score").innerHTML=b,window.localStorage.setItem(this.key,b)},clear:function(){window.localStorage.setItem(this.key,0),m("score").innerHTML=0},init:function(){var a=window.localStorage.getItem(this.key)||0;m("score").innerHTML=a}},r=!1,s=function(a){if("undefined"!=typeof device){alert(3),"Android"==device.platform&&console.log(a);var b=new Media(a,function(){b.release()},function(a){alert("error playing sound: "+JSON.stringify(a))});b.play()}else"undefined"!=typeof Audio?r?(_audio.src=a,_audio.play()):(_audio=new Audio(a),_audio.play(),r=!0):alert("no sound API to play: "+a)};return{init:l}}();